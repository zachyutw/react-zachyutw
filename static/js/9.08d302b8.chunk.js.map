{"version":3,"sources":["components/JobTimeline/JobTimelineItem/JobTimelineItem.module.css","contexts/Event/EventContext.js","components/JobTimeline/JobTimelineItem/JobTimelineItem.js","components/Pages/HomePage/CarrerBox.js","API/index.js"],"names":["module","exports","steplabel","pearid_location_icon","timeperiod","Componet","Context","createContext","reducer","state","action","name","payload","actionType","localStorageSafe","setItem","Object","objectSpread","data","defineProperty","initState","getItem","condition","error","message","Provider","props","_useReducer","useReducer","_useReducer2","slicedToArray","dispatch","console","log","dipatch","getItemsAction","useCallback","_ref2","asyncToGenerator","regenerator_default","a","mark","_callee","_ref","url","wrap","_context","prev","next","cloudFetch","post","then","res","replace","icsToJson","sort","arguments","length","undefined","b","startDate","catch","err","sent","items","stop","_x","apply","this","_onLoad","pathname","_","isEmpty","process","_onChange","e","react_default","createElement","value","onChange","onLoad","children","PeriodLocationIcon","endDate","location","summary","className","s","Chip","label","moment","format","JobTimelineItems","_useContext","useContext","EventContext","_useContext$state$dat","useEffect","Stepper","orientation","map","index","description","Step","key","active","StepLabel","float","StepIconComponent","StepIconProps","StepContent","dangerouslySetInnerHTML","__html","EventContext_Provider","JobTimelineItem","_ref3","objectWithoutProperties","Items","CarrerBox","SectionContainer","id","JobTimeline_JobTimelineItem_JobTimelineItem","__webpack_require__","d","__webpack_exports__","axios__WEBPACK_IMPORTED_MODULE_0__","api","n","axios","create","baseURL"],"mappings":"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","file":"static/js/9.08d302b8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"steplabel\":\"JobTimelineItem_steplabel__aDOBy\",\"pearid_location_icon\":\"JobTimelineItem_pearid_location_icon__1m0_i\",\"timeperiod\":\"JobTimelineItem_timeperiod__2-bUZ\"};","import React, { createContext, useCallback, useReducer } from 'react';\nimport localStorageSafe from 'zach-local-storage-safe';\nimport _ from 'lodash';\nimport icsToJson from 'ics-to-json';\nimport { cloudFetch } from '../../API';\nconst Context = createContext({});\nconst FETCH_DATA_URL = '/webTextFile';\n\nconst GET_ITEMS = 'getItems';\nconst getItems = (dipatch) => async ({ url }) => {\n    const data = await cloudFetch\n        .post(FETCH_DATA_URL, { url })\n        .then((res) => {\n            const data = res.data.data.replace(/\\\\/g, ``);\n            return icsToJson(data).sort((a = {}, b = {}) => a.startDate - b.startDate);\n        })\n        .catch((err) => {\n            console.log(err);\n            return [];\n        });\n    dipatch({ actionType: GET_ITEMS, name: 'items', payload: { items: data } });\n};\n\nconst reducer = (state, action) => {\n    const { name, payload, actionType } = action;\n    switch (actionType) {\n        case GET_ITEMS:\n            localStorageSafe.setItem('eventData', { ...state.data, [name]: payload[name] }, 30000);\n            return { ...state, data: { ...state.data, [name]: payload[name] } };\n        default:\n            return state;\n    }\n};\n\nconst initState = {\n    data: localStorageSafe.getItem('eventData', 'object'),\n    condition: { error: { message: null } }\n};\nexport const Provider = (props) => {\n    const [ state, dispatch ] = useReducer(reducer, initState);\n    console.log(state);\n    const getItemsAction = useCallback(getItems(dispatch), []);\n\n    const _onLoad = useCallback((data = {}) => {\n        const { pathname, actionType } = data;\n        switch (pathname) {\n            default:\n                break;\n        }\n        switch (actionType) {\n            case 'getItems':\n                if (_.isEmpty(localStorageSafe.getItem('eventData', 'object'))) {\n                    getItemsAction({ url: process.env.REACT_APP_CALENDAR_URL });\n                }\n                break;\n            default:\n                break;\n        }\n    }, []);\n    const _onChange = useCallback((e, data) => {\n        switch (data.actionType) {\n            default:\n                break;\n        }\n    }, []);\n\n    return <Context.Provider value={{ state, onChange: _onChange, onLoad: _onLoad }}>{props.children}</Context.Provider>;\n};\n\nexport const withContext = (Componet) => (props) => {\n    return (\n        <Provider>\n            <Componet {...props} />\n        </Provider>\n    );\n};\n\nexport default Context;\n","import React, { useEffect, useContext } from 'react';\nimport EventContext, { withContext } from '../../../contexts/Event/EventContext';\nimport { Stepper, Step, StepLabel, StepContent, Chip } from '@material-ui/core';\nimport moment from 'moment';\nimport s from './JobTimelineItem.module.css';\nconst MOMENT_INPUT_FORMAT = 'YYYYMMDD';\nconst MOMENT_OUTPUT_FORMAT = 'YYYY-MM';\nconst PeriodLocationIcon = ({ startDate, endDate, location, summary }) => {\n    return (\n        <div className={s.pearid_location_icon}>\n            <h4>{summary}</h4>\n            <div className={s.timeperiod}>\n                <Chip label={moment(startDate, MOMENT_INPUT_FORMAT).format(MOMENT_OUTPUT_FORMAT)} />\n                <Chip label={moment(endDate, MOMENT_INPUT_FORMAT).format(MOMENT_OUTPUT_FORMAT)} />\n            </div>\n            <a>{location}</a>\n        </div>\n    );\n};\nconst JobTimelineItems = withContext(() => {\n    const { onLoad, state: { data: { items = [] } } } = useContext(EventContext);\n\n    useEffect(() => {\n        onLoad({ actionType: 'getItems' });\n    }, []);\n\n    return (\n        <div>\n            <Stepper orientation='vertical'>\n                {items.map(({ summary, startDate, endDate, location, description }, index) => (\n                    <Step key={index} active>\n                        <StepLabel float='right' className={s.steplabel} StepIconComponent={PeriodLocationIcon} StepIconProps={{ startDate, endDate, location, summary }} />\n                        <StepContent>\n                            <div dangerouslySetInnerHTML={{ __html: description }} />\n                        </StepContent>\n                    </Step>\n                ))}\n            </Stepper>\n        </div>\n    );\n});\n\nconst JobTimelineItem = ({ summary, startDate, endDate, location, description, ...rest }) => {\n    return (\n        <Step active>\n            <StepLabel float='right' className={s.steplabel} StepIconComponent={PeriodLocationIcon} StepIconProps={{ startDate, endDate, location, summary }} />\n            <StepContent>\n                <div dangerouslySetInnerHTML={{ __html: description }} />\n            </StepContent>\n        </Step>\n    );\n};\nJobTimelineItem.Items = JobTimelineItems;\nexport default JobTimelineItem;\n","import React from 'react';\nimport JobTimelineItem from '../../JobTimeline/JobTimelineItem/JobTimelineItem';\nimport SectionContainer from '../../Modules/SectionContainer/SectionContainer';\nconst CAREER = 'career';\nconst CarrerBox = () => {\n    return (\n        <SectionContainer id={CAREER}>\n            <h2>Carrer</h2>\n            <p>real-time data from google calendar</p>\n            <div className='content'>\n                <JobTimelineItem.Items />\n            </div>\n        </SectionContainer>\n    );\n};\n\nexport default CarrerBox;\n","import axios from 'axios';\nconst api = {};\n\nexport const cloudFetch = axios.create({\n    baseURL: process.env.REACT_APP_CLOUD_API\n});\n\napi.cloudFetch = cloudFetch;\nexport default api;\n"],"sourceRoot":""}