{"version":3,"sources":["components/JobTimeline/JobTimelineItem/JobTimelineItem.module.css","contexts/Event/EventContext.js","components/JobTimeline/JobTimelineItem/JobTimelineItem.js","components/Pages/HomePage/CarrerBox.js","API/index.js"],"names":["module","exports","steplabel","pearid_location_icon","timeperiod","Componet","Context","createContext","reducer","state","action","name","payload","actionType","localStorageSafe","setItem","Object","objectSpread","data","defineProperty","initState","getItem","condition","error","message","Provider","props","_useReducer","useReducer","_useReducer2","slicedToArray","dispatch","console","log","dipatch","getItemsAction","useCallback","_ref2","asyncToGenerator","regenerator_default","a","mark","_callee","_ref","url","wrap","_context","prev","next","cloudFetch","post","then","res","replace","icsToJson","sort","arguments","length","undefined","b","startDate","catch","err","sent","items","stop","_x","apply","this","_onLoad","pathname","_","isEmpty","process","_onChange","e","react_default","createElement","value","onChange","onLoad","children","PeriodLocationIcon","endDate","location","summary","className","s","Chip","label","moment","format","JobTimelineItems","_useContext","useContext","EventContext","_useContext$state$dat","useEffect","Stepper","orientation","map","index","description","Step","key","active","StepLabel","float","StepIconComponent","StepIconProps","StepContent","dangerouslySetInnerHTML","__html","EventContext_Provider","JobTimelineItem","_ref3","objectWithoutProperties","Items","CarrerBox","SectionContainer","id","JobTimeline_JobTimelineItem_JobTimelineItem","__webpack_require__","d","__webpack_exports__","axios__WEBPACK_IMPORTED_MODULE_0__","api","n","axios","create","baseURL"],"mappings":"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","file":"static/js/9.7c376246.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"steplabel\":\"JobTimelineItem_steplabel__aDOBy\",\"pearid_location_icon\":\"JobTimelineItem_pearid_location_icon__1m0_i\",\"timeperiod\":\"JobTimelineItem_timeperiod__2-bUZ\"};","import React, { createContext, useCallback, useReducer } from 'react';\nimport localStorageSafe from 'zach-local-storage-safe';\nimport _ from 'lodash';\nimport icsToJson from 'ics-to-json';\nimport { cloudFetch } from '../../API';\nconst Context = createContext({});\nconst FETCH_DATA_URL = '/webtextfile';\n\nconst GET_ITEMS = 'getItems';\nconst getItems = (dipatch) => async ({ url }) => {\n    const data = await cloudFetch\n        .post(FETCH_DATA_URL, { url })\n        .then((res) => {\n            const data = res.data.data.replace(/\\\\/g, ``);\n            return icsToJson(data).sort((a = {}, b = {}) => a.startDate - b.startDate);\n        })\n        .catch((err) => {\n            console.log(err);\n            return [];\n        });\n    dipatch({ actionType: GET_ITEMS, name: 'items', payload: { items: data } });\n};\n\nconst reducer = (state, action) => {\n    const { name, payload, actionType } = action;\n    switch (actionType) {\n        case GET_ITEMS:\n            localStorageSafe.setItem('eventData', { ...state.data, [name]: payload[name] }, 30000);\n            return { ...state, data: { ...state.data, [name]: payload[name] } };\n        default:\n            return state;\n    }\n};\n\nconst initState = {\n    data: localStorageSafe.getItem('eventData', 'object'),\n    condition: { error: { message: null } }\n};\nexport const Provider = (props) => {\n    const [ state, dispatch ] = useReducer(reducer, initState);\n    console.log(state);\n    const getItemsAction = useCallback(getItems(dispatch), []);\n\n    const _onLoad = useCallback((data = {}) => {\n        const { pathname, actionType } = data;\n        switch (pathname) {\n            default:\n                break;\n        }\n        switch (actionType) {\n            case 'getItems':\n                if (_.isEmpty(localStorageSafe.getItem('eventData', 'object'))) {\n                    getItemsAction({ url: process.env.REACT_APP_CALENDAR_URL });\n                }\n                break;\n            default:\n                break;\n        }\n    }, []);\n    const _onChange = useCallback((e, data) => {\n        switch (data.actionType) {\n            default:\n                break;\n        }\n    }, []);\n\n    return <Context.Provider value={{ state, onChange: _onChange, onLoad: _onLoad }}>{props.children}</Context.Provider>;\n};\n\nexport const withContext = (Componet) => (props) => {\n    return (\n        <Provider>\n            <Componet {...props} />\n        </Provider>\n    );\n};\n\nexport default Context;\n","import React, { useEffect, useContext } from 'react';\nimport EventContext, {\n  withContext\n} from '../../../contexts/Event/EventContext';\nimport { Stepper, Step, StepLabel, StepContent, Chip } from '@material-ui/core';\nimport moment from 'moment';\nimport s from './JobTimelineItem.module.css';\nconst MOMENT_INPUT_FORMAT = 'YYYYMMDD';\nconst MOMENT_OUTPUT_FORMAT = 'YYYY-MM';\nconst PeriodLocationIcon = ({ startDate, endDate, location, summary }) => {\n  return (\n    <div className={s.pearid_location_icon}>\n      <h4>{summary}</h4>\n      <div className={s.timeperiod}>\n        <Chip\n          label={moment(startDate, MOMENT_INPUT_FORMAT).format(\n            MOMENT_OUTPUT_FORMAT\n          )}\n        />\n        <Chip\n          label={moment(endDate, MOMENT_INPUT_FORMAT).format(\n            MOMENT_OUTPUT_FORMAT\n          )}\n        />\n      </div>\n      <a>{location}</a>\n    </div>\n  );\n};\nconst JobTimelineItems = withContext(() => {\n  const {\n    onLoad,\n    state: {\n      data: { items = [] }\n    }\n  } = useContext(EventContext);\n\n  useEffect(() => {\n    onLoad({ actionType: 'getItems' });\n  }, []);\n\n  return (\n    <div>\n      <Stepper orientation=\"vertical\">\n        {items.map(\n          ({ summary, startDate, endDate, location, description }, index) => (\n            <Step key={index} active>\n              <StepLabel\n                float=\"right\"\n                className={s.steplabel}\n                StepIconComponent={PeriodLocationIcon}\n                StepIconProps={{ startDate, endDate, location, summary }}\n              />\n              <StepContent>\n                <div dangerouslySetInnerHTML={{ __html: description }} />\n              </StepContent>\n            </Step>\n          )\n        )}\n      </Stepper>\n    </div>\n  );\n});\n\nconst JobTimelineItem = ({\n  summary,\n  startDate,\n  endDate,\n  location,\n  description,\n  ...rest\n}) => {\n  return (\n    <Step active>\n      <StepLabel\n        float=\"right\"\n        className={s.steplabel}\n        StepIconComponent={PeriodLocationIcon}\n        StepIconProps={{ startDate, endDate, location, summary }}\n      />\n      <StepContent>\n        <div dangerouslySetInnerHTML={{ __html: description }} />\n      </StepContent>\n    </Step>\n  );\n};\nJobTimelineItem.Items = JobTimelineItems;\nexport default JobTimelineItem;\n","import React from 'react';\nimport JobTimelineItem from '../../JobTimeline/JobTimelineItem/JobTimelineItem';\nimport SectionContainer from '../../Modules/SectionContainer/SectionContainer';\nconst CAREER = 'career';\nconst CarrerBox = () => {\n    return (\n        <SectionContainer id={CAREER}>\n            <h2>Carrer</h2>\n            <p>real-time data from my calendar</p>\n            <div className='content'>\n                <JobTimelineItem.Items />\n            </div>\n        </SectionContainer>\n    );\n};\n\nexport default CarrerBox;\n","import axios from 'axios';\nconst api = {};\n\nexport const cloudFetch = axios.create({\n  baseURL: process.env.REACT_APP_CLOUD_API\n});\n\napi.cloudFetch = cloudFetch;\nexport default api;\n"],"sourceRoot":""}